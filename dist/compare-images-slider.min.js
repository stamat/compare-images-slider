/* compare-images-slider v1.0.0 | https://stamat.github.io/compare-images-slider/ | MIT License */
(()=>{function g(e,s){return!e||!s||Number.isNaN(e)||Number.isNaN(s)?0:e/s*100}function E(e,s){let r=0,a=0,v=!1,d=e.getBoundingClientRect();const c=function(t){const n=t.type==="touchstart"?t.touches[0]:t;r=n.clientX,a=n.clientY,v=!0;const i=new CustomEvent("dragstart",{detail:m()});e.dispatchEvent(i)},h=function(t){if(!v)return;const n=t.type==="touchmove"?t.touches[0]:t;r=n.clientX,a=n.clientY;const i=new CustomEvent("drag",{detail:m()});e.dispatchEvent(i)},u=function(){v=!1;const t=new CustomEvent("dragend",{detail:{target:e,x:r,y:a,rect:d}});e.dispatchEvent(t)},m=function(){const t=r-d.left,n=a-d.top,i=g(t,d.width),l=g(n,d.height),o={target:e,x:r,y:a,relativeX:t,relativeY:n,xPercentage:i,yPercentage:l};return i<0&&(o.xPercentage=0),i>100&&(o.xPercentage=100),l<0&&(o.yPercentage=0),l>100&&(o.yPercentage=100),o};return e.addEventListener("mousedown",c),e.addEventListener("mousemove",h),e.addEventListener("mouseup",u),e.addEventListener("touchstart",c),e.addEventListener("touchmove",h),e.addEventListener("touchend",u),{destroy:function(){e.removeEventListener("mousedown",c),e.removeEventListener("mousemove",h),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",c),e.removeEventListener("touchmove",h),e.removeEventListener("touchend",u)}}}var p=class{constructor(e,s){this.element=e,this.frame=this.element.querySelector(".frame"),this.second=this.frame.querySelector(":scope > img"),this.handle=this.element.querySelector(".handle"),window.addEventListener("resize",()=>{requestAnimationFrame(this.setupSecondImage.bind(this))}),this.setupSecondImage(),this.drag=E(this.element),this.element.addEventListener("dragstart",this.updateVisibleHandler.bind(this)),this.element.addEventListener("drag",this.updateVisibleHandler.bind(this))}setupSecondImage(){const e=this.element.offsetWidth+"px";this.second.style.width=e}updateVisibleHandler(e){this.frame.style.width=e.detail.xPercentage+"%",this.handle.style.left=e.detail.xPercentage+"%"}destroy(){this.drag.destroy(),this.element.removeEventListener("dragstart",this.updateVisibleHandler.bind(this)),this.element.removeEventListener("drag",this.updateVisibleHandler.bind(this))}};window.CompareImagesSlider||(window.CompareImagesSlider=p,document.dispatchEvent(new CustomEvent("CompareImagesSliderLoaded")))})();
