/* compare-images-slider v1.0.0 | https://stamat.github.io/compare-images-slider/ | MIT License */
(()=>{function f(e,i){return!e||!i||Number.isNaN(e)||Number.isNaN(i)?0:e/i*100}function E(e,i){let u=0,h=0,g=!1,a=e.getBoundingClientRect();if(!e||e.getAttribute("drag-enabled")==="true")return;e.setAttribute("drag-enabled","true"),e.setAttribute("dragging","false");const d=function(t){m(t),g=!0,e.setAttribute("dragging","true");const n=new CustomEvent("dragstart",{detail:v()});e.dispatchEvent(n)},o=function(t){if(!g)return;m(t);const n=v();i&&i(n);const s=new CustomEvent("drag",{detail:n});e.dispatchEvent(s)},c=function(){g=!1,e.setAttribute("dragging","false");const t=new CustomEvent("dragend",{detail:v()});e.dispatchEvent(t)},m=function(t){const n=t.touches?t.touches[0]:t;t.touches&&t.preventDefault(),u=n.clientX,h=n.clientY},v=function(){const t=u-a.left,n=h-a.top,s=f(t,a.width),l=f(n,a.height),r={target:e,x:u,y:h,relativeX:t,relativeY:n,xPercentage:s,yPercentage:l};return s<0&&(r.xPercentage=0),s>100&&(r.xPercentage=100),l<0&&(r.yPercentage=0),l>100&&(r.yPercentage=100),r};return e.addEventListener("mousedown",d),e.addEventListener("mousemove",o),e.addEventListener("mouseup",c),e.addEventListener("touchstart",d),e.addEventListener("touchmove",o),e.addEventListener("touchend",c),{destroy:function(){e.removeEventListener("mousedown",d),e.removeEventListener("mousemove",o),e.removeEventListener("mouseup",c),e.removeEventListener("touchstart",d),e.removeEventListener("touchmove",o),e.removeEventListener("touchend",c)}}}var p=class{constructor(e,i){this.element=e,this.frame=this.element.querySelector(".frame"),this.second=this.frame.querySelector(":scope > img"),this.handle=this.element.querySelector(".handle"),window.addEventListener("resize",()=>{requestAnimationFrame(this.setupSecondImage.bind(this))}),this.setupSecondImage(),this.drag=E(this.element),this.element.addEventListener("dragstart",this.updateVisibleHandler.bind(this)),this.element.addEventListener("drag",this.updateVisibleHandler.bind(this))}setupSecondImage(){const e=this.element.offsetWidth+"px";this.second.style.width=e}updateVisibleHandler(e){this.frame.style.width=e.detail.xPercentage+"%",this.handle.style.left=e.detail.xPercentage+"%"}destroy(){this.drag.destroy(),this.element.removeEventListener("dragstart",this.updateVisibleHandler.bind(this)),this.element.removeEventListener("drag",this.updateVisibleHandler.bind(this))}};window.CompareImagesSlider||(window.CompareImagesSlider=p,document.dispatchEvent(new CustomEvent("CompareImagesSliderLoaded")))})();
