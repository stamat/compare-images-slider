/* compare-images-slider v1.0.0 | https://stamat.github.io/compare-images-slider/ | MIT License */
(()=>{function p(e,i){return!e||!i||Number.isNaN(e)||Number.isNaN(i)?0:e/i*100}function C(e,i){let r=0,a=0,L=0,w=0,d=0,o=0,g=!1,u=e.getBoundingClientRect(),s=null;const v=function(t){y(t),g=!0,s&&(cancelAnimationFrame(s),s=null);const n=new CustomEvent("dragstart",{detail:f()});e.dispatchEvent(n)},l=function(t){if(!g)return;y(t),d=r-L,o=a-w;const n=f();i&&i(n);const c=new CustomEvent("drag",{detail:n});e.dispatchEvent(c)},m=function(){g=!1,s=requestAnimationFrame(b);const t=new CustomEvent("dragend",{detail:f()});e.dispatchEvent(t)},y=function(t){const n=t.touches?t.touches[0]:t;t.touches&&t.preventDefault(),L=r,w=a,r=n.clientX,a=n.clientY},f=function(){const t=r-u.left,n=a-u.top,c=p(t,u.width),E=p(n,u.height),h={target:e,x:r,y:a,relativeX:t,relativeY:n,xPercentage:c,yPercentage:E};return c<0&&(h.xPercentage=0),c>100&&(h.xPercentage=100),E<0&&(h.yPercentage=0),E>100&&(h.yPercentage=100),h},b=function(){r+=d,a+=o,d*=.9,o*=.9,Math.abs(d)<.1&&(d=0),Math.abs(o)<.1&&(o=0);const t=f();if(d!==0||o!==0){i&&i(t);const n=new CustomEvent("draginertia",{detail:t});e.dispatchEvent(n),s=requestAnimationFrame(b)}else{s=null,i&&i(t);const n=new CustomEvent("draginertiaend",{detail:t});e.dispatchEvent(n)}};return e.addEventListener("mousedown",v),e.addEventListener("mousemove",l),e.addEventListener("mouseup",m),e.addEventListener("touchstart",v),e.addEventListener("touchmove",l),e.addEventListener("touchend",m),{destroy:function(){e.removeEventListener("mousedown",v),e.removeEventListener("mousemove",l),e.removeEventListener("mouseup",m),e.removeEventListener("touchstart",v),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",m),s&&(cancelAnimationFrame(s),s=null)}}}var S=class{constructor(e,i){this.element=e,this.frame=this.element.querySelector(".frame"),this.second=this.frame.querySelector(":scope > img"),this.handle=this.element.querySelector(".handle"),this.options={},window.addEventListener("resize",()=>{requestAnimationFrame(this.setupSecondImage.bind(this))}),this.setupSecondImage(),this.drag=C(this.element),this.element.addEventListener("dragstart",this.updateVisibleHandler.bind(this)),this.element.addEventListener("drag",this.updateVisibleHandler.bind(this)),this.element.addEventListener("draginertia",this.updateVisibleHandler.bind(this))}setupSecondImage(){const e=this.element.offsetWidth+"px";this.second.style.width=e}updateVisibleHandler(e){this.frame.style.width=e.detail.xPercentage+"%",this.handle.style.left=e.detail.xPercentage+"%"}destroy(){this.drag.destroy(),this.element.removeEventListener("dragstart",this.updateVisibleHandler.bind(this)),this.element.removeEventListener("drag",this.updateVisibleHandler.bind(this)),this.element.removeEventListener("draginertia",this.updateVisibleHandler.bind(this))}};window.CompareImagesSlider||(window.CompareImagesSlider=S,document.dispatchEvent(new CustomEvent("CompareImagesSliderLoaded")))})();
