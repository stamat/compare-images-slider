/* compare-images-slider v1.0.0 | https://stamat.github.io/compare-images-slider/ | MIT License */
(()=>{function g(e,r){return!e||!r||Number.isNaN(e)||Number.isNaN(r)?0:e/r*100}function m(e,r){let i=0,a=0,c=0,u=0,E=!1,n=e.getBoundingClientRect();const l=function(t){const o=t.type==="touchstart"?t.touches[0]:t;i=o.clientX,a=o.clientY,E=!0,n=e.getBoundingClientRect();const p=g(i-n.left,n.width),y=g(a-n.top,n.height),v=new CustomEvent("dragstart",{detail:{target:e,startX:i,startY:a,rect:n,xPercentage:p,yPercentage:y}});e.dispatchEvent(v)},h=function(t){if(!E)return;const o=t.type==="touchmove"?t.touches[0]:t;c=o.clientX,u=o.clientY,P()},f=function(){E=!1;const t=new CustomEvent("dragend",{detail:{target:e,startX:i,startY:a,rect:n,endX:c,endY:u}});e.dispatchEvent(t)},P=function(){const t=c-i,o=u-a,p=t<0,y=o<0,v=g(c-n.left,n.width),L=g(u-n.top,n.height),s={target:e,deltaX:t,deltaY:o,startX:i,startY:a,endX:c,endY:u,horizontalDirection:p?"left":"right",verticalDirection:y?"up":"down",xPercentage:v,yPercentage:L};v<0&&(s.xPercentage=0),v>100&&(s.xPercentage=100),L<0&&(s.yPercentage=0),L>100&&(s.yPercentage=100),r&&r(s);const q=new CustomEvent("drag",{detail:s});e.dispatchEvent(q)};return e.addEventListener("mousedown",l),e.addEventListener("mousemove",h),e.addEventListener("mouseup",f),e.addEventListener("touchstart",l),e.addEventListener("touchmove",h),e.addEventListener("touchend",f),{destroy:function(){e.removeEventListener("mousedown",l),e.removeEventListener("mousemove",h),e.removeEventListener("mouseup",f),e.removeEventListener("touchstart",l),e.removeEventListener("touchmove",h),e.removeEventListener("touchend",f)}}}var d=document.querySelector(".ba-slider"),w=e=>{const r=e.querySelector(".resize img"),i=e.offsetWidth+"px";r.style.width=i};window.addEventListener("resize",()=>{requestAnimationFrame(()=>{w(d)})}),w(d),m(d),updateVisibleHandler=e=>{e.detail.target.querySelector(".resize").style.width=e.detail.xPercentage+"%",e.detail.target.querySelector(".handle").style.left=e.detail.xPercentage+"%",console.log(e.detail.target.querySelector(".resize"))},d.addEventListener("dragstart",e=>{requestAnimationFrame(()=>{updateVisibleHandler(e)})}),d.addEventListener("drag",e=>{requestAnimationFrame(()=>{updateVisibleHandler(e)})})})();
