/* compare-images-slider v1.0.0 | https://stamat.github.io/compare-images-slider/ | MIT License */
(()=>{function u(e,i){return!e||!i||Number.isNaN(e)||Number.isNaN(i)?0:e/i*100}function L(e,i){let r=0,o=0,a=0,c=0,f=!1,n=e.getBoundingClientRect();const l=function(t){const s=t.type==="touchstart"?t.touches[0]:t;r=s.clientX,o=s.clientY,f=!0,n=e.getBoundingClientRect();const m=u(r-n.left,n.width),p=u(o-n.top,n.height),h=new CustomEvent("dragstart",{detail:{target:e,startX:r,startY:o,rect:n,xPercentage:m,yPercentage:p}});e.dispatchEvent(h)},v=function(t){if(!f)return;const s=t.type==="touchmove"?t.touches[0]:t;a=s.clientX,c=s.clientY,w()},g=function(){f=!1;const t=new CustomEvent("dragend",{detail:{target:e,startX:r,startY:o,rect:n,endX:a,endY:c}});e.dispatchEvent(t)},w=function(){const t=a-r,s=c-o,m=t<0,p=s<0,h=u(a-n.left,n.width),E=u(c-n.top,n.height),d={target:e,deltaX:t,deltaY:s,startX:r,startY:o,endX:a,endY:c,horizontalDirection:m?"left":"right",verticalDirection:p?"up":"down",xPercentage:h,yPercentage:E};h<0&&(d.xPercentage=0),h>100&&(d.xPercentage=100),E<0&&(d.yPercentage=0),E>100&&(d.yPercentage=100),i&&i(d);const b=new CustomEvent("drag",{detail:d});e.dispatchEvent(b)};return e.addEventListener("mousedown",l),e.addEventListener("mousemove",v),e.addEventListener("mouseup",g),e.addEventListener("touchstart",l),e.addEventListener("touchmove",v),e.addEventListener("touchend",g),{destroy:function(){e.removeEventListener("mousedown",l),e.removeEventListener("mousemove",v),e.removeEventListener("mouseup",g),e.removeEventListener("touchstart",l),e.removeEventListener("touchmove",v),e.removeEventListener("touchend",g)}}}var y=class{constructor(e,i){this.element=e,this.second=this.element.querySelector(".second"),this.handle=this.element.querySelector(".handle"),this.frame=this.element.querySelector(".frame"),window.addEventListener("resize",()=>{requestAnimationFrame(this.setupSecondImage.bind(this))}),this.setupSecondImage(),this.drag=L(this.element),this.element.addEventListener("dragstart",this.updateVisibleHandler.bind(this)),this.element.addEventListener("drag",this.updateVisibleHandler.bind(this))}setupSecondImage(){const e=this.element.offsetWidth+"px";this.second.style.width=e}updateVisibleHandler(e){this.frame.style.width=e.detail.xPercentage+"%",this.handle.style.left=e.detail.xPercentage+"%"}destroy(){this.drag.destroy(),this.element.removeEventListener("dragstart",this.updateVisibleHandler.bind(this)),this.element.removeEventListener("drag",this.updateVisibleHandler.bind(this))}};new y(document.querySelector(".js-compare-images-slider"))})();
