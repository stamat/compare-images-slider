/* compare-images-slider v1.0.0 | https://stamat.github.io/compare-images-slider/ | MIT License */
(()=>{function g(t,r){return!t||!r||Number.isNaN(t)||Number.isNaN(r)?0:t/r*100}function m(t,r){let i=0,a=0,c=0,u=0,E=!1,n=t.getBoundingClientRect();const h=function(e){const o=e.type==="touchstart"?e.touches[0]:e;i=o.clientX,a=o.clientY,E=!0,n=t.getBoundingClientRect();const p=g(i-n.left,n.width),L=g(a-n.top,n.height),v=new CustomEvent("dragstart",{detail:{target:t,startX:i,startY:a,rect:n,xPercentage:p,yPercentage:L}});t.dispatchEvent(v)},l=function(e){if(!E)return;const o=e.type==="touchmove"?e.touches[0]:e;c=o.clientX,u=o.clientY,P()},f=function(){E=!1;const e=new CustomEvent("dragend",{detail:{target:t,startX:i,startY:a,rect:n,endX:c,endY:u}});t.dispatchEvent(e)},P=function(){const e=c-i,o=u-a,p=e<0,L=o<0,v=g(c-n.left,n.width),y=g(u-n.top,n.height),s={target:t,deltaX:e,deltaY:o,startX:i,startY:a,endX:c,endY:u,horizontalDirection:p?"left":"right",verticalDirection:L?"up":"down",xPercentage:v,yPercentage:y};v<0&&(s.xPercentage=0),v>100&&(s.xPercentage=100),y<0&&(s.yPercentage=0),y>100&&(s.yPercentage=100),r&&r(s);const q=new CustomEvent("drag",{detail:s});t.dispatchEvent(q)};return t.addEventListener("mousedown",h),t.addEventListener("mousemove",l),t.addEventListener("mouseup",f),t.addEventListener("touchstart",h),t.addEventListener("touchmove",l),t.addEventListener("touchend",f),{destroy:function(){t.removeEventListener("mousedown",h),t.removeEventListener("mousemove",l),t.removeEventListener("mouseup",f),t.removeEventListener("touchstart",h),t.removeEventListener("touchmove",l),t.removeEventListener("touchend",f)}}}var d=document.querySelector(".js-compare-images-slider"),w=t=>{const r=t.querySelector(".second"),i=t.offsetWidth+"px";r.style.width=i};window.addEventListener("resize",()=>{requestAnimationFrame(()=>{w(d)})}),w(d),m(d),updateVisibleHandler=t=>{t.detail.target.querySelector(".frame").style.width=t.detail.xPercentage+"%",t.detail.target.querySelector(".handle").style.left=t.detail.xPercentage+"%"},d.addEventListener("dragstart",t=>{requestAnimationFrame(()=>{updateVisibleHandler(t)})}),d.addEventListener("drag",t=>{requestAnimationFrame(()=>{updateVisibleHandler(t)})})})();
